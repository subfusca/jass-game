<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Oral Order ‚Äì Card Game</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: #f4f6f8;
    margin: 0;
    padding: 0;
    text-align: center;
  }
  h1 {
    background: #0074d9;
    color: white;
    padding: 12px;
    margin: 0;
  }
  .game-container {
    margin: 20px auto;
    max-width: 900px;
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
  #status {
    background: #eaf3ff;
    padding: 10px;
    border-radius: 8px;
    margin-bottom: 20px;
  }
  .hand {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    margin: 10px 0;
  }
  .card {
    background: #fff;
    border: 2px solid #0074d9;
    border-radius: 8px;
    padding: 10px;
    width: 120px;
    cursor: pointer;
    transition: transform 0.2s;
  }
  .card:hover {
    transform: scale(1.05);
  }
  .card.procedure { border-color: #ff851b; }
  .card.pharma { border-color: #2ecc40; }
  .card.used { border-color: #aaaaaa; background: #f7f7f7; }
  .btn {
    background: #0074d9;
    color: white;
    border: none;
    border-radius: 6px;
    padding: 10px 16px;
    margin: 5px;
    cursor: pointer;
    font-size: 14px;
  }
  .btn:hover {
    background: #005fa3;
  }
  #instructions {
    background: #f9f9f9;
    border-left: 4px solid #0074d9;
    text-align: left;
    margin-top: 20px;
    padding: 10px;
    border-radius: 6px;
  }
</style>
</head>
<body>

<h1>The Oral Order</h1>
<div class="game-container">
  <div id="status">Welcome! Click ‚ÄúStart Game‚Äù to begin.</div>

  <button class="btn" id="startBtn">Start Game</button>
  <button class="btn" id="drawBtn" disabled>Draw</button>
  <button class="btn" id="endBtn" disabled>End Turn</button>

  <h3 id="playerTurn"></h3>
  <div id="playerHand" class="hand"></div>
  <h4>Used Cards</h4>
  <div id="usedCards" class="hand"></div>

  <div id="instructions">
    <strong>How to Play:</strong>
    <ul>
      <li>Each player starts with 5 random cards (Procedures + Pharmacology).</li>
      <li>On your turn, you can <b>Play a card</b> from your hand, or <b>Draw</b> a new card (ending your turn).</li>
      <li>Played cards move to your Used pile.</li>
      <li>First player to finish their patient‚Äôs treatment wins!</li>
    </ul>
  </div>
</div>

<script>
// ---------- Basic Deck Setup ----------
const PROCEDURES = [
  { name: "Pain Management", type: "Procedure", requirement: "Analgesic" },
  { name: "Root Canal", type: "Procedure", requirement: "Anesthetic" },
  { name: "Prophylaxis", type: "Procedure", requirement: null },
  { name: "Surgical Extraction", type: "Procedure", requirement: "Anesthetic" },
  { name: "Scaling and Root Planing", type: "Procedure", requirement: "Anesthetic" },
  { name: "Dental Implant Surgery", type: "Procedure", requirement: "Antibiotic" },
  { name: "Dry Socket Treatment", type: "Procedure", requirement: "Topical Anesthetic" }
];

const PHARMA = [
  { name: "Ibuprofen", type: "Pharmacology", category: "Analgesic" },
  { name: "Clindamycin", type: "Pharmacology", category: "Antibiotic" },
  { name: "Mepivacaine", type: "Pharmacology", category: "Anesthetic" },
  { name: "Benzocaine Gel", type: "Pharmacology", category: "Topical Anesthetic" },
  { name: "Chlorhexidine", type: "Pharmacology", category: "Antiseptic" },
  { name: "Cyclobenzaprine", type: "Pharmacology", category: "Muscle Relaxant" },
  { name: "Nystatin", type: "Pharmacology", category: "Antifungal" }
];

function shuffle(deck) {
  const copy = [...deck];
  for (let i = copy.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [copy[i], copy[j]] = [copy[j], copy[i]];
  }
  return copy;
}

// ---------- Game State ----------
let gameState = {
  players: [
    { name: "Player 1", hand: [], used: [] },
    { name: "Player 2", hand: [], used: [] }
  ],
  deck: [],
  currentPlayer: 0,
  started: false
};

// ---------- UI Rendering ----------
function renderGame() {
  const player = gameState.players[gameState.currentPlayer];
  document.getElementById("playerTurn").innerText = `üéÆ ${player.name}'s Turn`;
  document.getElementById("playerHand").innerHTML = "";
  document.getElementById("usedCards").innerHTML = "";

  player.hand.forEach((card, index) => {
    const div = document.createElement("div");
    div.className = `card ${card.type === "Procedure" ? "procedure" : "pharma"}`;
    div.innerHTML = `<strong>${card.name}</strong><br><small>${card.type}</small>`;
    div.onclick = () => playCard(index);
    document.getElementById("playerHand").appendChild(div);
  });

  player.used.forEach(card => {
    const div = document.createElement("div");
    div.className = "card used";
    div.innerHTML = `<strong>${card.name}</strong><br><small>${card.type}</small>`;
    document.getElementById("usedCards").appendChild(div);
  });

  document.getElementById("status").innerText = `Your options: Play a card or Draw one (ends your turn).`;
}

// ---------- Game Flow ----------
function startGame() {
  gameState.started = true;
  gameState.deck = shuffle([...PROCEDURES, ...PHARMA]);
  gameState.players.forEach(p => {
    p.hand = gameState.deck.splice(0, 5);
    p.used = [];
  });
  gameState.currentPlayer = 0;
  document.getElementById("drawBtn").disabled = false;
  document.getElementById("endBtn").disabled = false;
  document.getElementById("startBtn").disabled = true;
  renderGame();
}

function playCard(index) {
  const player = gameState.players[gameState.currentPlayer];
  const card = player.hand.splice(index, 1)[0];
  player.used.push(card);
  document.getElementById("status").innerText = `${player.name} played ${card.name}`;
  renderGame();
}

function drawCard() {
  const player = gameState.players[gameState.currentPlayer];
  if (gameState.deck.length === 0) {
    document.getElementById("status").innerText = "Deck empty!";
    return;
  }
  const card = gameState.deck.pop();
  player.hand.push(card);
  document.getElementById("status").innerText = `${player.name} drew a card (${card.name}). Turn ends.`;
  endTurn();
}

function endTurn() {
  gameState.currentPlayer = (gameState.currentPlayer + 1) % gameState.players.length;
  renderGame();
}

// ---------- Bind Buttons ----------
document.getElementById("startBtn").addEventListener("click", startGame);
document.getElementById("drawBtn").addEventListener("click", drawCard);
document.getElementById("endBtn").addEventListener("click", endTurn);
</script>
</body>
</html>
